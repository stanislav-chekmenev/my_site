<!-- MathJax CDN loader for Hugo -->
<script>
window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']],
    processEscapes: true,
    processEnvironments: true,
    tags: 'ams'
  },
  options: {
    skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  startup: {
    typeset: false,  // Don't typeset on startup
    ready() {
      MathJax.startup.defaultReady();
      MathJax.startup.promise.then(() => {
        // Fast typeset without blocking
        MathJax.typesetPromise().then(() => {
          console.log('MathJax loaded');
        });
      });
    }
  },
  chtml: {
    scale: 1.2,
    minScale: 0.5,
    matchFontHeight: false,
    fontURL: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2'
  }
};
</script>

<!-- Preload MathJax for faster loading -->
<link rel="preload" href="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" as="script">
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
